<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
  <title></title>
  <meta http-equiv="content-type" content="text/html; charset=latin1">
  <style type="text/css">
td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }
body  { background: #f0f3f3; }
body .c { color: #0099FF; font-style: italic } /* Comment */
body .err { color: #AA0000; background-color: #FFAAAA } /* Error */
body .k { color: #006699; font-weight: bold } /* Keyword */
body .o { color: #555555 } /* Operator */
body .cm { color: #0099FF; font-style: italic } /* Comment.Multiline */
body .cp { color: #009999 } /* Comment.Preproc */
body .c1 { color: #0099FF; font-style: italic } /* Comment.Single */
body .cs { color: #0099FF; font-weight: bold; font-style: italic } /* Comment.Special */
body .gd { background-color: #FFCCCC; border: 1px solid #CC0000 } /* Generic.Deleted */
body .ge { font-style: italic } /* Generic.Emph */
body .gr { color: #FF0000 } /* Generic.Error */
body .gh { color: #003300; font-weight: bold } /* Generic.Heading */
body .gi { background-color: #CCFFCC; border: 1px solid #00CC00 } /* Generic.Inserted */
body .go { color: #AAAAAA } /* Generic.Output */
body .gp { color: #000099; font-weight: bold } /* Generic.Prompt */
body .gs { font-weight: bold } /* Generic.Strong */
body .gu { color: #003300; font-weight: bold } /* Generic.Subheading */
body .gt { color: #99CC66 } /* Generic.Traceback */
body .kc { color: #006699; font-weight: bold } /* Keyword.Constant */
body .kd { color: #006699; font-weight: bold } /* Keyword.Declaration */
body .kp { color: #006699 } /* Keyword.Pseudo */
body .kr { color: #006699; font-weight: bold } /* Keyword.Reserved */
body .kt { color: #007788; font-weight: bold } /* Keyword.Type */
body .m { color: #FF6600 } /* Literal.Number */
body .s { color: #CC3300 } /* Literal.String */
body .na { color: #330099 } /* Name.Attribute */
body .nb { color: #336666 } /* Name.Builtin */
body .nc { color: #00AA88; font-weight: bold } /* Name.Class */
body .no { color: #336600 } /* Name.Constant */
body .nd { color: #9999FF } /* Name.Decorator */
body .ni { color: #999999; font-weight: bold } /* Name.Entity */
body .ne { color: #CC0000; font-weight: bold } /* Name.Exception */
body .nf { color: #CC00FF } /* Name.Function */
body .nl { color: #9999FF } /* Name.Label */
body .nn { color: #00CCFF; font-weight: bold } /* Name.Namespace */
body .nt { color: #330099; font-weight: bold } /* Name.Tag */
body .nv { color: #003333 } /* Name.Variable */
body .ow { color: #000000; font-weight: bold } /* Operator.Word */
body .w { color: #bbbbbb } /* Text.Whitespace */
body .mf { color: #FF6600 } /* Literal.Number.Float */
body .mh { color: #FF6600 } /* Literal.Number.Hex */
body .mi { color: #FF6600 } /* Literal.Number.Integer */
body .mo { color: #FF6600 } /* Literal.Number.Oct */
body .sb { color: #CC3300 } /* Literal.String.Backtick */
body .sc { color: #CC3300 } /* Literal.String.Char */
body .sd { color: #CC3300; font-style: italic } /* Literal.String.Doc */
body .s2 { color: #CC3300 } /* Literal.String.Double */
body .se { color: #CC3300; font-weight: bold } /* Literal.String.Escape */
body .sh { color: #CC3300 } /* Literal.String.Heredoc */
body .si { color: #AA0000 } /* Literal.String.Interpol */
body .sx { color: #CC3300 } /* Literal.String.Other */
body .sr { color: #33AAAA } /* Literal.String.Regex */
body .s1 { color: #CC3300 } /* Literal.String.Single */
body .ss { color: #FFCC33 } /* Literal.String.Symbol */
body .bp { color: #336666 } /* Name.Builtin.Pseudo */
body .vc { color: #003333 } /* Name.Variable.Class */
body .vg { color: #003333 } /* Name.Variable.Global */
body .vi { color: #003333 } /* Name.Variable.Instance */
body .il { color: #FF6600 } /* Literal.Number.Integer.Long */

  </style>
</head>
<body>
<h2></h2>

<table class="highlighttable"><tr><td class="linenos"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382</pre></td><td class="code"><div class="highlight"><pre><span class="c1">;;; Time-stamp: &lt;2008-05-10 03:27:31 vishal final-review.scm&gt;</span>
<span class="c1">;;;</span>
<span class="c1">;;; CS3S (Unofficial) Final Review Problems</span>
<span class="c1">;;; Spring 2008</span>
<span class="c1">;;; UC Berkeley</span>
<span class="c1">;;;</span>
<span class="c1">;;; Please keep a Scheme interpreter handy when trying the following</span>
<span class="c1">;;; exercises. You should be able to edit this document in a text</span>
<span class="c1">;;; editor and copy/paste pieces of code into the interpreter as you</span>
<span class="c1">;;; go along. Also note that this review sheet by no means covers</span>
<span class="c1">;;; everything you need to know for the final. If you have any</span>
<span class="c1">;;; questions, feel that something integral is missing, or have a</span>
<span class="c1">;;; newfound appreciation for Scheme after completing this worksheet,</span>
<span class="c1">;;; please email us at &lt;selfpace@cs.berkeley.edu&gt;.</span>

<span class="c1">;;; Round 1: Simple Functions</span>

<span class="c1">;; 1. Evaluate the following expressions. If an expression results in an</span>
<span class="c1">;; error, specify the reason.</span>
<span class="p">(</span><span class="nb">- </span><span class="mi">100</span> <span class="mi">10</span><span class="p">)</span>
<span class="p">(</span><span class="nb">- </span><span class="mi">3</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">(</span><span class="nb">- </span><span class="mi">8</span><span class="p">)</span>
<span class="p">(</span><span class="mi">-8</span><span class="p">)</span>
<span class="p">(</span><span class="nb">- </span><span class="mi">-8</span><span class="p">)</span>
<span class="p">(</span><span class="mi">1</span> <span class="nv">-</span> <span class="mi">8</span><span class="p">)</span>
<span class="p">(</span><span class="mi">1</span> <span class="mi">-8</span><span class="p">)</span>
<span class="p">(</span><span class="nb">+ </span><span class="mi">5</span><span class="p">)</span>
<span class="p">(</span><span class="nb">quotient </span> <span class="mi">5</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">(</span><span class="nb">remainder </span><span class="mi">5</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">(</span><span class="nb">quotient </span> <span class="mi">2</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">(</span><span class="nb">remainder </span><span class="mi">2</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">(</span><span class="nb">sqrt </span><span class="mi">4</span><span class="p">)</span>
<span class="p">(</span><span class="nb">sqrt </span><span class="mi">2</span> <span class="nv">+</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1">;; 2. Suggest better names for the following functions:</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">fn1</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">+ </span><span class="nv">a</span> <span class="nv">b</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">fn2</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">= </span><span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">fn3</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">sqrt </span><span class="p">(</span><span class="nb">+ </span><span class="p">(</span><span class="nb">* </span><span class="nv">a</span> <span class="nv">a</span><span class="p">)</span> <span class="p">(</span><span class="nb">* </span><span class="nv">b</span> <span class="nv">b</span><span class="p">))))</span>

<span class="c1">;; 3. Which of the following functions differ in output from fn1 given</span>
<span class="c1">;; the same input?</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">fn1-wannabe1</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">+ </span><span class="nv">a</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">b</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">fn1-wannabe2</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">+ </span><span class="p">(</span><span class="nb">* </span><span class="mi">2</span> <span class="nv">a</span><span class="p">)</span> <span class="p">(</span><span class="nb">* </span><span class="nv">b</span> <span class="mi">2</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">fn1-wannabe3</span> <span class="nv">a</span> <span class="nv">b</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">+ </span><span class="p">(</span><span class="nb">- </span><span class="nv">b</span> <span class="nv">a</span><span class="p">)</span> <span class="nv">a</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">b</span> <span class="nv">a</span><span class="p">)</span> <span class="nv">a</span><span class="p">))</span>

<span class="c1">;;; Round 2: Lists</span>

<span class="c1">;; Fill in the blanks with car, cdr, cons, or list to get the desired</span>
<span class="c1">;; results (denoted by &#39;=&gt;&#39;):</span>
<span class="p">(</span><span class="nf">____</span> <span class="p">(</span><span class="nf">____</span> <span class="p">(</span><span class="nf">____</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span> <span class="p">(</span><span class="mi">2</span> <span class="p">(</span><span class="mi">3</span><span class="p">)))</span> <span class="p">)))</span>
<span class="c1">; =&gt; (3)</span>

<span class="p">(</span><span class="nf">____</span> <span class="p">(</span><span class="nf">____</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span> <span class="p">(</span><span class="mi">2</span> <span class="p">(</span><span class="mi">3</span><span class="p">)))</span> <span class="p">))))</span>
<span class="c1">; =&gt; 2</span>

<span class="p">(</span><span class="nf">____</span> <span class="mi">1</span> <span class="o">&#39;</span><span class="p">())</span>
<span class="c1">; =&gt; (1)</span>

<span class="p">(</span><span class="nf">____</span> <span class="p">(</span><span class="nf">____</span> <span class="mi">1</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">2</span> <span class="mi">3</span><span class="p">)))</span>
<span class="c1">; =&gt; 1</span>

<span class="p">(</span><span class="nf">____</span> <span class="mi">1</span> <span class="p">(</span><span class="nf">____</span> <span class="p">(</span><span class="nf">____</span> <span class="mi">2</span> <span class="p">(</span><span class="nf">____</span> <span class="p">(</span><span class="nf">____</span> <span class="mi">3</span> <span class="o">&#39;</span><span class="p">())))))</span>
<span class="c1">; =&gt; (1 (2 (3)))</span>

<span class="p">(</span><span class="nb">append </span><span class="p">(</span><span class="nf">____</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nf">____</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="nf">____</span> <span class="mi">3</span><span class="p">))</span>
<span class="c1">; =&gt; (1 2 3)</span>

<span class="p">(</span><span class="nf">____</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">2</span> <span class="mi">3</span><span class="p">))</span>
<span class="c1">; =&gt; (1 2 3)</span>

<span class="p">(</span><span class="nf">____</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">2</span> <span class="mi">3</span><span class="p">))</span>
<span class="c1">; =&gt; ((1) 2 3)</span>

<span class="c1">;;; Round 3: Evaluation</span>

<span class="c1">;; Evaluate the following calls made to the functions defined earlier:</span>
<span class="p">(</span><span class="nf">fn1</span> <span class="mi">3</span> <span class="mi">3</span><span class="p">)</span>
<span class="c1">; =&gt;</span>

<span class="p">(</span><span class="nf">fn1</span> <span class="mi">4</span> <span class="mi">9</span><span class="p">)</span>
<span class="c1">; =&gt;</span>

<span class="p">(</span><span class="nf">fn2</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span>
<span class="c1">; =&gt;</span>

<span class="p">(</span><span class="nf">fn2</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>
<span class="c1">; =&gt;</span>

<span class="p">(</span><span class="nf">fn3</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">)</span>
<span class="c1">; =&gt;</span>

<span class="p">(</span><span class="nf">fn3</span> <span class="mi">5</span> <span class="p">(</span><span class="nf">fn1</span> <span class="mi">3</span> <span class="mi">3</span><span class="p">))</span>
<span class="c1">; =&gt; (fn3 5 _________) ; Simplify the above call first</span>
<span class="c1">; =&gt;                   ; Then evaluate</span>

<span class="c1">;;; Round 4: Predicates</span>

<span class="c1">;; 1. Complete the definitions of the following functions. Some may ask</span>
<span class="c1">;; you to define them multiple ways.</span>

<span class="c1">;; (even? 3) =&gt; #f</span>
<span class="c1">;; (even? 2) =&gt; #t</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nb">even? </span><span class="nv">n</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; (odd? 3) =&gt; #t</span>
<span class="c1">;; (odd? 2) =&gt; #f</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nb">odd? </span><span class="nv">n</span><span class="p">)</span> <span class="c1">; don&#39;t use even? to define this version</span>

  <span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nb">odd? </span><span class="nv">n</span><span class="p">)</span> <span class="c1">; use even? to define this version</span>

  <span class="p">)</span>

<span class="c1">;; 2. Describe what the following function does and how it works:</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">all-equal?</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span><span class="p">)</span>
  <span class="p">(</span><span class="k">and </span><span class="p">(</span><span class="nb">equal? </span><span class="nv">a</span> <span class="nv">b</span><span class="p">)</span>
       <span class="p">(</span><span class="nb">equal? </span><span class="nv">b</span> <span class="nv">c</span><span class="p">)))</span>

<span class="c1">;;; Round 5: Case Analysis</span>

<span class="c1">;; 1. Define a function named majority that accepts 3 arguments and</span>
<span class="c1">;; returns #t if 2 or more of its arguments are #t, and #f otherwise.</span>
<span class="c1">;; (majority #f #f #f) =&gt; #f</span>
<span class="c1">;; (majority #f #t #f) =&gt; #f</span>
<span class="c1">;; (majority #t #f #t) =&gt; #t</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">majority</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; 2. Define a function named same-suit that accepts three cards of the</span>
<span class="c1">;; form (symbol suit) and returns #t if the three cards all have the</span>
<span class="c1">;; same suit, and #f otherwise.</span>
<span class="c1">;; (same-suit? &#39;(K H) &#39;(10 H) &#39;(J H)) =&gt; #t</span>
<span class="c1">;; (same-suit? &#39;(Q S) &#39;( 8 C) &#39;(5 D)) =&gt; #f</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">same-suit?</span> <span class="nv">card1</span> <span class="nv">card2</span> <span class="nv">card3</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; 3. Define a function named ordinal that works as follows:</span>
<span class="c1">;; (ordinal 1) =&gt; st</span>
<span class="c1">;; (ordinal 2) =&gt; nd</span>
<span class="c1">;; (ordinal 3) =&gt; rd</span>
<span class="c1">;; (ordinal 4) =&gt; th</span>
<span class="c1">;; (ordinal 1329) =&gt; th</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">ordinal</span> <span class="nv">n</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; 4. Using the ordinal function above, define another function called</span>
<span class="c1">;; date-format that works as follows:</span>
<span class="c1">;; (date-format 21 &#39;september 1987)</span>
<span class="c1">;; =&gt; (the 21 st of september in the year 1987)</span>
<span class="c1">;; (date-format 29 &#39;october 1900)</span>
<span class="c1">;; =&gt; (the 29 th of october in the year 1900)</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">date-format</span> <span class="nv">date</span> <span class="nv">month</span> <span class="nv">year</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;;; Round 7: Simple Recursionn</span>

<span class="c1">;; 1. Define a function named duplicate-elements that takes a list of</span>
<span class="c1">;; elements and returns a list with those elements appearing twice</span>
<span class="c1">;; consecutively.</span>
<span class="c1">;; (duplicate-elements &#39;(1 2 3)) =&gt; &#39;(1 1 2 2 3 3)</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">duplicate-elements</span> <span class="nv">L</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; 2. Define a function named all-sums that takes a list of numbers and</span>
<span class="c1">;; returns a list of sums of all sublists starting from the first</span>
<span class="c1">;; element. The resulting list should be the same length as the</span>
<span class="c1">;; original list. You may also define a helper function or three.</span>
<span class="c1">;; (all-sums &#39;(1 2 3)) =&gt; (1 3 6)</span>
<span class="c1">;; (all-sums &#39;(0 1 1 2 3)) =&gt; (0 1 2 4 7)</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">all-sums</span> <span class="nv">L</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; 3. What&#39;s wrong with the following function, which accepts a queue</span>
<span class="c1">;; of people is supposed to return the position of the person in the</span>
<span class="c1">;; queue?:</span>
<span class="c1">;; (position-of &#39;john &#39;(john jacob joel)) =&gt; 0</span>
<span class="c1">;; (position-of &#39;john &#39;(jack jake john)) =&gt; 2</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">position-of</span> <span class="nv">name</span> <span class="nv">queue</span><span class="p">)</span>
  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">equal? </span><span class="nv">name</span> <span class="p">(</span><span class="nb">car </span><span class="nv">queue</span><span class="p">))</span> <span class="mi">0</span>
      <span class="p">(</span><span class="nb">+ </span><span class="mi">1</span> <span class="p">(</span><span class="nf">position-of</span> <span class="nv">name</span> <span class="p">(</span><span class="nb">cdr </span><span class="nv">queue</span><span class="p">)))))</span>


<span class="c1">;; 4. Define a function named zip that accepts two equal-sized lists</span>
<span class="c1">;; of elements and returns a single list of pairs of corresponding</span>
<span class="c1">;; elements from the original lists.</span>
<span class="c1">;; (zip &#39;(1 2 3) &#39;(4 5 6)) =&gt; ((1 4) (2 5) (3 6))</span>
<span class="c1">;; (zip &#39;(peter xavier) &#39;(23 39)) =&gt; ((peter 23) (xavier  39))</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">zip</span> <span class="nv">L1</span> <span class="nv">L2</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; 5. (skip if you hate math) The 3n+1 Conjecture</span>
<span class="c1">;; See http://en.wikipedia.org/wiki/Collatz_conjecture</span>
<span class="c1">;; a. Define a function named collatz that acts as follows:</span>
<span class="c1">;;                  ( n/2   if n is even</span>
<span class="c1">;;     collatz(n) = {</span>
<span class="c1">;;                  ( 3n+1  if n is odd</span>
<span class="c1">;;    Feel free to use any functions you defined earlier.</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">collatz</span> <span class="nv">n</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; b. Define a function named collatz-sequence that collects the</span>
<span class="c1">;;    decreasing sequence of Collatz numbers (until 1 is reached) as</span>
<span class="c1">;;    follows:</span>
<span class="c1">;;    (collatz-sequence 3) =&gt; (10 5 16 8 4 2 1)</span>
<span class="c1">;;    (collatz-sequence 28) =&gt; (14 7 22 11 34 17 52 26 13 40 20 10 5 16 8 4 2 1)</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">collatz-sequence</span> <span class="nv">n</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;;; Round 8: More Recursionn</span>

<span class="c1">;; 1. What does the following function do?:</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">loves-me?</span> <span class="nv">n</span><span class="p">)</span>
  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="nv">n</span> <span class="mi">1</span><span class="p">)</span> <span class="no">#t</span>
      <span class="p">(</span><span class="nb">not </span><span class="p">(</span><span class="nf">loves-me</span> <span class="p">(</span><span class="nb">- </span><span class="nv">n</span> <span class="mi">1</span><span class="p">)))))</span>

<span class="c1">;; 2. Expand the following call into a series of recursive calls along</span>
<span class="c1">;; with the result:</span>
<span class="p">(</span><span class="nf">loves-me?</span> <span class="mi">4</span><span class="p">)</span>
<span class="c1">;; Here&#39;s something to start you off:</span>
<span class="c1">;; =&gt; (not (loves-me? 3))</span>
<span class="c1">;;</span>
<span class="c1">;; ...</span>
<span class="c1">;;</span>
<span class="c1">;; =&gt; ___ (this should probably be #t or #f)</span>

<span class="c1">;; That last problem wasn&#39;t too realistic. Let&#39;s try this again.</span>
<span class="c1">;; First, here&#39;s a function to make a flower of a given number of</span>
<span class="c1">;; petals (the stem comes for free!):</span>
<span class="c1">;; (make-flower 3) =&gt; (petal petal petal stem)</span>
<span class="c1">;; (make-flower 1) =&gt; (petal stem)</span>
<span class="c1">;; (make-flower 0) =&gt; (stem)</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">make-flower</span> <span class="nv">num-petals</span><span class="p">)</span>
  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="nv">num-petals</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">(</span><span class="nv">stem</span><span class="p">)</span>
      <span class="p">(</span><span class="nb">cons </span><span class="ss">&#39;petal</span> <span class="p">(</span><span class="nf">make-flower</span> <span class="p">(</span><span class="nb">- </span><span class="nv">num-petals</span> <span class="mi">1</span><span class="p">)))))</span>

<span class="c1">;; This function determines whether a flower in the above form has any</span>
<span class="c1">;; petals left on it or not.</span>
<span class="c1">;; (has-petals? &#39;(stem)) =&gt; #f</span>
<span class="c1">;; (has-petals? &#39;(petal petal stem)) =&gt; #t</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">has-petals?</span> <span class="nv">flower</span><span class="p">)</span>
  <span class="p">(</span><span class="k">or </span><span class="p">(</span><span class="nb">null? </span><span class="nv">flower</span><span class="p">)</span>
      <span class="p">(</span><span class="nb">equal? </span><span class="p">(</span><span class="nb">car </span><span class="nv">flower</span><span class="p">)</span> <span class="ss">&#39;petal</span><span class="p">)))</span>

<span class="c1">;; Feel free to play around with these functions before continuing!</span>

<span class="c1">;; 3. This next one you can define by yourself:</span>
<span class="c1">;; (pluck &#39;(petal petal petal stem)) =&gt; (petal petal stem)</span>
<span class="c1">;; (pluck &#39;(petal stem)) =&gt; (stem)</span>
<span class="c1">;; (pluck &#39;(stem)) =&gt; (stem)</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">pluck</span> <span class="nv">flower</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; 4. Now that we&#39;ve got actual petals to pluck, pluck away by</span>
<span class="c1">;; redefining loves-me? to accomodate this change. You should use the</span>
<span class="c1">;; functions we just defined. I&#39;ve started you off with some code:</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">loves-me?</span> <span class="nv">flower</span><span class="p">)</span>
  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">not </span><span class="p">(</span><span class="nf">has-petals?</span> <span class="nv">flower</span><span class="p">))</span> <span class="nv">_____</span>
      <span class="p">(</span><span class="nb">not </span><span class="p">(</span><span class="nf">loves-me?</span> <span class="p">(</span><span class="nf">_____</span> <span class="nv">flower</span><span class="p">)))))</span>

<span class="c1">;; 5. Expand the following call into a series of recursive calls along</span>
<span class="c1">;; with the result:</span>
<span class="p">(</span><span class="nf">loves-me?</span> <span class="p">(</span><span class="nf">make-flower</span> <span class="mi">4</span><span class="p">))</span>




<span class="c1">;;; Round 9: Functionals (FINAL ROUND)</span>

<span class="c1">;; From here on out, use higher-order functions to accomplish what you</span>
<span class="c1">;; may have with recursion. Many of the functions you will be defining</span>
<span class="c1">;; can be defined multiple ways, so just pick one (or if you want the</span>
<span class="c1">;; practice, try them all).</span>

<span class="c1">;; 1. Define a function named sum that accepts a list of numbers</span>
<span class="c1">;; and returns their sum.</span>
<span class="c1">;; (sum &#39;(1 2 3)) =&gt; 6</span>
<span class="c1">;; (sum &#39;()) =&gt; 0</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">sum</span> <span class="nv">L</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; 2. Define a function named product that accepts a list of numbers</span>
<span class="c1">;; and returns their product.</span>
<span class="c1">;; (product &#39;(1 2 3)) =&gt; 6</span>
<span class="c1">;; (product &#39;()) =&gt; 1</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">product</span> <span class="nv">L</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; 3. Define a function named sum-squares that accepts a list of numbers</span>
<span class="c1">;; and returns the sum of their squares.</span>
<span class="c1">;; (sum-squares &#39;(1 2 3)) =&gt; 14</span>
<span class="c1">;; (sum-squares &#39;()) =&gt; 0</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">sum-squares</span> <span class="nv">L</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; 4. Define a function named all-equal? that accepts a list of atoms and</span>
<span class="c1">;; returns #t if they are all equal, and #f otherwise.</span>
<span class="c1">;; (all-equal? &#39;(1 2 3)) =&gt; #f</span>
<span class="c1">;; (all-equal? &#39;(a a a)) =&gt; #t</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">all-equal?</span> <span class="nv">L</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; 5. Define a function named same-suit that accepts a list of cards of</span>
<span class="c1">;; the form (symbol suit) and returns #t if they all have the same</span>
<span class="c1">;; suit, and #f otherwise.</span>
<span class="c1">;; (same-suit? &#39;((K H) (10 H) (J H))) =&gt; #t</span>
<span class="c1">;; (same-suit? &#39;((Q S) ( 8 C) (5 D))) =&gt; #f</span>
<span class="c1">;; (same-suit? &#39;((1 C)))              =&gt; #t</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">same-suit?</span> <span class="nv">L</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; 6. Define a function named zip that accepts two equal-sized lists</span>
<span class="c1">;; of elements and returns a single list of pairs of corresponding</span>
<span class="c1">;; elements from the original lists.</span>
<span class="c1">;; (zip &#39;(1 2 3) &#39;(4 5 6)) =&gt; ((1 4) (2 5) (3 6))</span>
<span class="c1">;; (zip &#39;(peter xavier) &#39;(23 39)) =&gt; ((peter 23) (xavier  39))</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">zip</span> <span class="nv">L1</span> <span class="nv">L2</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; 7. Define a function named batting-avg that accepts a list</span>
<span class="c1">;; containing hit/miss data and returns the hit:hit attempt ratio.</span>
<span class="c1">;; (batting-avg &#39;(hit hit hit))  =&gt; 1</span>
<span class="c1">;; (batting-avg &#39;(hit hit miss)) =&gt; 2/3</span>
<span class="c1">;; (batting-avg &#39;(miss miss))    =&gt; 0</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">batting-avg</span> <span class="nv">data</span><span class="p">)</span>

  <span class="p">)</span>

<span class="c1">;; By now you should be best pals with (or a weary enemy of) map,</span>
<span class="c1">;; apply, accumulate find-if, find-if-not, remove-if, keep-if, any,</span>
<span class="c1">;; every, lambda, and assoc. If you think they&#39;re special, just wait</span>
<span class="c1">;; until you write a few of them yourself.</span>

<span class="c1">;; 8. Write the following functionals using no other functionals (you can</span>
<span class="c1">;; use whatever else you like, especially recursion):</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nb">assoc </span><span class="nv">key</span> <span class="nv">L</span><span class="p">)</span>

  <span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">every</span> <span class="nv">predicate</span> <span class="nv">L</span><span class="p">)</span>

  <span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">any</span> <span class="nv">predicate</span> <span class="nv">L</span><span class="p">)</span>

  <span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nb">map </span><span class="nv">fn</span> <span class="nv">L</span><span class="p">)</span>

  <span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">find-if</span> <span class="nv">fn</span> <span class="nv">L</span><span class="p">)</span>

  <span class="p">)</span>
</pre></div>
</td></tr></table></body>
</html>
